<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Editor</title>

    <link rel="stylesheet" href="./dist/css/style.css" />

    <!-- Solid-UI Elements -->
    <script src="solid-ui/dist/solid-ui.umd.js"></script>
  </head>
  <body>
    <svg
      xmlns="http://www.w3.org/2000/svg"
      width="0"
      height="0"
      style="position: absolute"
    >
      <defs>
        <pattern
          id="grid-pattern"
          width="90"
          height="90"
          patternUnits="userSpaceOnUse"
        >
          <rect
            x="4"
            y="4"
            width="82"
            height="82"
            fill="rgba(0,0,0,.02)"
            id="grid-pattern__rect"
          ></rect>
        </pattern>
      </defs>
    </svg>

    <main id="editor">
      <nav class="nav">
        <section class="nav__left">
          <div id="logo-btn">
            <img class="logo" src="./img/logo.svg" />
            <img class="arrow-down" src="./img/icons/arrow_down.svg" />
          </div>

          <div class="nav__left__project-decs">
            <div class="title">Title</div>
            <div class="subtitle">Subtitle</div>
          </div>
        </section>

        <section class="nav__center">
          <div class="nav__center__add-btn">
            <img src="./img/icons/plus.svg" />
            <img src="./img/icons/small_arrow_down.svg" />
          </div>
          <div class="separator-vert"></div>
          <div class="icon-btn-container">
            <img src="./img/icons/stats.svg" />
          </div>
          <div class="icon-btn-container">
            <img src="./img/icons/settings.svg" />
          </div>
          <div class="icon-btn-container">
            <img src="./img/icons/code.svg" />
          </div>
        </section>

        <section class="nav__right">
          <div class="icon-btn-container">
            <img src="./img/avatar_backdrop.svg" style="position: absolute" />
            <img src="./img/icons/user.svg" style="position: absolute" />
          </div>

          <div class="icon-btn-container" id="preview-open-trigger">
            <img src="./img/icons/play.svg" />
          </div>
          <div class="icon-btn-container">
            <img src="./img/icons/network.svg" />
          </div>
        </section>
      </nav>

      <aside class="editor__left-panel" style="overflow-y: scroll">
        <tabs-controler selectedId="layers">
          <header>
            <tab-label tabId="layers">Layers</tab-label>
            <tab-label tabId="assets">Assets</tab-label>
          </header>

          <tab-panel tabId="layers">
            <div id="pages-panel">
              <header>
                <div class="title">Pages</div>
                <div id="add-page-btn" class="icon-btn-container">
                  <img src="./img/icons/plus.svg" />
                </div>
              </header>

              <section id="inspector-tree">
                <!-- <div class="page-item">
                  <header>
                    <div class="page-item__icon">
                      <img src="./img/icons/arrow_down.svg" />
                    </div>
                    <div>Home</div>
                  </header>
                  <div class="page-item__children">
                    <header>
                      <div class="page-item__icon">
                        <img src="./img/icons/arrow_down.svg" />
                      </div>
                      <div>Flex</div>
                    </header>
                    <div class="page-item__layout__children">
                      <div class="page-item__component">
                        <div class="page-item__component_icon">
                          <img src="./img/icons/check.svg" />
                        </div>
                        <div>Component</div>
                      </div>
                    </div>

                    <header>
                      <div class="page-item__icon">
                        <img src="./img/icons/arrow_down.svg" />
                      </div>
                      <div>Grid</div>
                    </header>
                    <header>
                      <div class="page-item__icon">
                        <img src="./img/icons/arrow_down.svg" />
                      </div>
                      <div>Free</div>
                    </header>
                  </div>
                </div> -->
              </section>
            </div>
          </tab-panel>

          <tab-panel tabId="assets">
            <div class="assets__title">Components</div>
            <div id="picker"></div>
            <div class="assets__title">Layouts</div>
            <div id="layout-picker">
              <div
                draggable="true"
                ondragstart="event.dataTransfer.setData('text/layout-type','grid')"
              >
                Grid
              </div>
              <div
                draggable="true"
                ondragstart="event.dataTransfer.setData('text/layout-type','flex')"
              >
                Flex
              </div>
              <div
                draggable="true"
                ondragstart="event.dataTransfer.setData('text/layout-type','free')"
              >
                Free
              </div>
            </div>
          </tab-panel>
        </tabs-controler>
      </aside>

      <div id="workspace">
        <!-- Tha pages are being added here by rust  -->
        <!--
            <Page> 
              <Layout>
                <Component />    
              </Layout>
            </Page>
        -->
      </div>

      <aside class="editor__right-panel">
        <tabs-controler selectedId="design">
          <header>
            <tab-label tabId="design" class="active">Design</tab-label>
            <tab-label tabId="data">Data</tab-label>
            <tab-label tabId="debug">Debug</tab-label>
          </header>

          <tab-panel tabId="design">
            <div id="parameters">
              <section>
                <div class="title">Page Dimensions</div>

                <div class="page-dimensions">
                  <div>
                    <span>W</span>
                    <input
                      id="page-width-input"
                      min="500"
                      type="number"
                      value="908"
                    />
                  </div>
                  <div>
                    <span>H</span>
                    <input disabled type="text" value="Auto" />
                  </div>
                </div>
              </section>

              <section>
                <div class="title">Fill</div>

                <div class="page-color">
                  <input id="page-fill-input" type="color" value="#ffffff" />
                  <span id="page-fill-span">FFFFFF</span>
                </div>
              </section>
            </div>
          </tab-panel>

          <tab-panel tabId="data"></tab-panel>

          <tab-panel tabId="debug">
            <!-- Debug -->
            <div
              style="
                overflow-y: scroll;
                overflow-x: hidden;
                width: 100%;
                padding: 8px;
              "
            >
              <div class="title">Debug Section:</div>

              <section
                style="margin-top: 8px; display: flex; align-items: center"
              >
                <div class="title" style="margin-right: 5px">JSON Output:</div>
                <div
                  class="icon-btn-container"
                  style="border: 1px solid black"
                  id="json-preview-btn"
                >
                  <img src="./img/icons/code.svg" />
                </div>
              </section>

              <section style="margin-top: 8px">
                <div class="title">Page Tree</div>
                <ul id="component-list"></ul>
              </section>
            </div>
            <!--  -->
          </tab-panel>
        </tabs-controler>
      </aside>

      <context-menu style="display: none" />
    </main>

    <div id="preview-wrapper" style="visibility: hidden; opacity: 0">
      <div id="preview-close-trigger"></div>
      <div id="preview" style="transform: translateY(-100%) scale(0)"></div>
    </div>

    <script type="module">
      import { run } from "./dist/web.js";
      run();
    </script>
  </body>
</html>
